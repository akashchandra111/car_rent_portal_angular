<div class="row">
    <div class="col s12 m6">
        <div class="card ">
            <div class="card-content">
                <span class="card-title">
                    <b style="color:indigo"> My Account</b>
                </span>
            </div>
            <div class="row">
                <div class="col s6">
                    <img src="/assets/images/profile.jpg">
                </div>
                <div class="col s6">
                    <h5> Name : {{ user.firstName }} {{ user.lastName }}</h5>
                    <p>Mobile No:
                        <span> {{ user.mobileNum }}</span>
                    </p>
                    <p>Email Id :
                        <span> {{ user.email }}</span>
                    </p>
                    <p>Username:
                        <span> {{ user.userName }}</span>
                    </p>
                    <p>UID Number:
                        <span> {{ user.govtIdNum }}</span>
                    </p>
                    <p>Driving License Number
                        <span> {{user.drivingLicenseNum }}</span>
                    </p>
                    <p>Wallet Amount:
                        <span> {{ user.wallet }}</span>
                    </p>
                </div>

            </div>
        </div>
        <div class="card">
            <div class="card-content">
                <!--change user name and password -->
                <span class="card-title brown-text">
                    <b>Customize Credentials</b>
                </span>
                <div class="row">
                    <div class="col s8">

                        <div class="input-field">
                            <i class="material-icons indigo-text prefix">contacts</i>
                            <input type="text" name="userName" [(ngModel)]="user.userName" #userName=ngModel pattern="[(a-z)(A-Z)]{4,15}" required>
                            <label class="active" for="userName">Change User Name</label>
                        </div>
                        <div *ngIf="userName?.touched">
                            <div *ngIf="userName.errors?.required">
                                <span class="red-text"> Name is required </span>
                            </div>
                            <div *ngIf="userName.errors?.pattern">
                                <span class="red-text">User Name Contains atleast four characters </span>
                            </div>
                        </div>
                        <div>
                            <b class="green-text"> {{toastMessageUname}} </b>
                        </div>

                    </div>
                    <div class="col s4">
                        <button type="submit" class="waves-effect waves-light btn indigo changeusername" [disabled]="userName.invalid" style="margin-top:10%;"
                            (click)="changeUserName()">Change</button>
                    </div>
                </div>

                <div class="row">
                    <div class="col s8">
                        <div class="input-field">
                            <i class="material-icons indigo-text prefix">security</i>
                            <input type="password" name="password" [(ngModel)]="user.password" #password=ngModel pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                required>
                                <label class="active" for="password">Change Password</label>
                        </div>
                        <div *ngIf="password?.touched">
                            <div *ngIf="password.errors?.pattern">
                                <span class="red-text">Must contain at least one number and one uppercase and lowercase letter, and at least 8 or
                                    more characters </span>
                            </div>
                            <div *ngIf="password.errors?.required">
                                <span class="red-text">Enter the Password </span>
                            </div>
                        </div>
                        <div>
                            <b class="green-text"> {{toastMessagePassword}} </b>
                        </div>
                    </div>
                    <div class="col s4">
                        <button type="submit" class="waves-effect waves-light btn indigo " style="margin-top:10%;" [disabled]="password.errors" (click)="changeUserpassword()">Change</button>
                    </div>
                </div>

                <div class="row">
                    <span class="card-title">
                        <b>Delete Account</b>
                    </span>
                    <div class="col s8">

                        <p> Are You Sure You want To Delete Account</p>
                    </div>
                    <div class="col s4">

                        <button type="submit" class="waves-effect waves-light btn red" (click)="confirm()">Yes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col s12 m6">
        <div class="card">
            <div class="card-content">
                <span class="card-title">
                    <b>Update Account Details</b>
                </span>
                <div class="row">
                    <div class="col s8">
                        <div class="input-field">
                            <i class="material-icons indigo-text prefix">mail</i>
                            <input id="email" type="email" name="email" [(ngModel)]="user.email" #email=ngModel pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                                required>
                                <label class="active" for="email">Change Email</label>
                        </div>
                        <div *ngIf="email?.touched">
                            <div *ngIf="email.errors?.pattern">
                                <span class="red-text">Enter the Valid Email Id </span>
                            </div>
                            <div *ngIf="email.errors?.required">
                                <span class="red-text">Enter the Email Id </span>
                            </div>
                        </div>
                        <div>
                            <b class="green-text"> {{toastMessageEmail}} </b>
                        </div>
                    </div>
                    <div class="col s4">
                        <button type="submit" class="waves-effect waves-light btn indigo changeusername" style="margin-top:10%;" (click)="changeEmail()"
                            [disabled]="email.errors ">Change</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col s8">
                        <div class="input-field">
                            <i class="material-icons indigo-text prefix">call</i>
                            <input id="updateMobile" type="text" name="mobileNum" [(ngModel)]="user.mobileNum" #mobileNum=ngModel pattern="[0-9]{10}"
                                required>
                                <label class="active" for="mobileNum">Change Mobile Number</label>
                        </div>
                        <div *ngIf="mobileNum?.touched">
                            <div *ngIf="mobileNum.errors?.pattern">
                                <span class="red-text">Enter valid Mobile Number </span>
                            </div>
                            <div *ngIf="mobileNum.errors?.required">
                                <span class="red-text">Enter the Mobile Number </span>
                            </div>
                        </div>
                        <div>
                            <b class="green-text"> {{toastMessageMobile}} </b>
                        </div>
                    </div>
                    <div class="col s4">
                        <button type="submit" class="waves-effect waves-light btn indigo " style="margin-top:10%;" [disabled]="mobileNum.errors"
                            (click)="changeMobileNo()">Change</button>
                    </div>
                </div>

            </div>

            <div class="card-action">
                <span class="card-title">
                    <b>Driving License </b>
                </span>
                <div class="card-image" *ngIf="!checkImagePath">
                        <img src="/assets/images/tick_green.png" style="width: 40%; height: 40%;" alt="No Image found">
                </div>

                <div class="row" *ngIf="checkImagePath">
                    <div class="col s8">
                        <div class="input-field file-field">
                            <div class="btn indigo">
                                <input type="file" (change)="selectFile($event)">Select
                            </div>
                            <div class="file-path-wrapper">
                                <input type="text" class="file-path">
                            </div>
                            {{ toastMessageUpload }}
                         </div>
                    </div>
                    <div class="col s4">
                        <button [disabled]="!selectedFiles" (click)="upload()" class="btn btn-indigo right waves-effect waves-light scale-transition">Upload</button>
                    </div>
                </div>

            </div>
        </div>

    </div>

</div>
<div class="fixed-action-btn" *ngIf="deleteConfirm">
    <a class="btn-floating btn-large red" (click)="deleteAccount()">
        <i class="large material-icons">delete</i>
    </a>

</div>
